<!-- {{ .name }} -->
<div class="border border-gray3 rounded-xl p-4 bg-gray1">
  <div class="flex gap-4">
    <div class="flex-1">
      <div class="text-sm font-semibold text-gray7 mb-2">{{ .name }} ({{ .ticker }})</div>
      <code class="block bg-white border border-gray2 rounded px-3 py-2 font-mono text-xs break-all mb-2 select-all">
          {{ .address }}
      </code>
      <button onclick="copyToClipboard(this)" class="text-xs text-blue6 hover:text-blue4 font-medium">
        Copy address
      </button>
    </div>
    <div class="flex-shrink-0">
      <div id="{{ .ticker }}"
        class="w-[100px] h-[100px] border border-gray3 rounded bg-white"
        role="img"
        aria-label="{{ .name }} address QR code"></div>
    </div>
  </div>
</div>
<script>
(function() {
  const mountId = '{{ .ticker }}';
  const qrText = '{{ .address }}';

  function renderQRCode() {
    if (typeof QRCode !== 'function') {
      return;
    }

    const container = document.getElementById(mountId);
    if (!container) {
      return;
    }

    container.innerHTML = '';
    new QRCode(container, {
      text: qrText,
      width: 100,
      height: 100,
      colorDark: '#000000',
      colorLight: '#ffffff',
      correctLevel: QRCode.CorrectLevel.L,
    });
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', renderQRCode, { once: true });
  } else {
    renderQRCode();
  }
})();
</script>
